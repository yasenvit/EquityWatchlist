{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/yavit/OneDrive/Desktop/EquityEcho/WatchlistFundamentals/react-part/src/components/Ticker/AreaChart.js\";\nimport React, { Component, Fragment } from 'react';\nimport ReactApexChart from 'react-apexcharts';\n\nclass AreaChart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setChartFromIEXResponse = json => {\n      this.setState({\n        options: {\n          'series': [{\n            'name': this.state.ticker,\n            'data': json.map(entry => entry.close)\n          }],\n          'xaxis': {\n            'categories': json.map(entry => entry.date)\n          }\n        },\n        'series': [{\n          'name': this.state.ticker,\n          'data': json.map(entry => entry.close)\n        }]\n      });\n    };\n\n    this.lookUp = ticker => {\n      const promise = fetch(\"https://cloud.iexapis.com/stable/stock/\".concat(ticker, \"/chart/1m?token=\").concat(process.env.REACT_APP_API_PUBLISH));\n      promise.then(blob => blob.json()).then(json => {\n        console.log(\"JSON\", json);\n        this.setChartFromIEXResponse(json);\n      });\n    };\n\n    this.state = {\n      ticker: props.tickerToLook ? props.tickerToLook : null,\n      chart: null,\n      options: {\n        chart: {\n          zoom: {\n            enabled: false\n          }\n        },\n        dataLabels: {\n          enabled: false\n        },\n        stroke: {\n          curve: 'straight'\n        },\n        series: [{\n          name: \"STOCK ABC\",\n          data: \"no-data\" // need to adjust\n\n        }],\n        title: {\n          text: 'Fundamental Analysis of Stocks',\n          align: 'left'\n        },\n        subtitle: {\n          text: 'Price Movements',\n          align: 'left'\n        },\n        labels: \"no-label\",\n        xaxis: {\n          type: 'datetime'\n        },\n        yaxis: {\n          opposite: true\n        },\n        legend: {\n          horizontalAlign: 'left'\n        }\n      }\n    };\n    this.lookUp(this.state.ticker);\n  }\n\n  componentWillMount() {\n    this.lookUp(this.props.tickerToLook);\n  }\n\n  render() {\n    console.log(\"RENDER==lookupticker==\", this.state.ticker);\n    console.log(\"RENDER==options==\", this.state.options);\n    let chart = [];\n\n    if (this.state.ticker) {\n      chart = React.createElement(ReactApexChart, {\n        options: this.state.options,\n        series: this.state.series,\n        type: \"area\",\n        height: \"350\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"ticker\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"ticker\"), React.createElement(\"input\", {\n      name: \"ticker\",\n      value: this.state.ticker,\n      onChange: event => {\n        this.setState({\n          ticker: event.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: event => {\n        event.preventDefault();\n        this.lookUp(this.state.ticker);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Look Up\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, chart));\n  }\n\n}\n\nexport default AreaChart;","map":{"version":3,"sources":["/mnt/c/Users/yavit/OneDrive/Desktop/EquityEcho/WatchlistFundamentals/react-part/src/components/Ticker/AreaChart.js"],"names":["React","Component","Fragment","ReactApexChart","AreaChart","constructor","props","setChartFromIEXResponse","json","setState","options","state","ticker","map","entry","close","date","lookUp","promise","fetch","process","env","REACT_APP_API_PUBLISH","then","blob","console","log","tickerToLook","chart","zoom","enabled","dataLabels","stroke","curve","series","name","data","title","text","align","subtitle","labels","xaxis","type","yaxis","opposite","legend","horizontalAlign","componentWillMount","render","event","target","value","preventDefault"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\r\nimport ReactApexChart from 'react-apexcharts';\r\n\r\nclass AreaChart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    ticker: props.tickerToLook ? props.tickerToLook : null,\r\n    chart: null,\r\n    options: {\r\n      chart: {\r\n        zoom: {\r\n          enabled: false\r\n        }\r\n      },\r\n      dataLabels: {\r\n        enabled: false\r\n      },\r\n      stroke: {\r\n        curve: 'straight'\r\n      },\r\n      series: [{\r\n        name: \"STOCK ABC\",\r\n        data: \"no-data\" // need to adjust\r\n      }],\r\n      title: {\r\n        text: 'Fundamental Analysis of Stocks',\r\n        align: 'left'\r\n      },\r\n      subtitle: {\r\n        text: 'Price Movements',\r\n        align: 'left'\r\n      },\r\n      labels: \"no-label\",\r\n      xaxis: {\r\n        type: 'datetime',\r\n      },\r\n      yaxis: {\r\n        opposite: true\r\n      },\r\n      legend: {\r\n        horizontalAlign: 'left'\r\n      }\r\n    \r\n    },\r\n  }\r\n  this.lookUp(this.state.ticker)\r\n  }\r\n\r\n  setChartFromIEXResponse = (json) => {\r\n    this.setState(\r\n      {\r\n          options: {\r\n            'series': [{\r\n              'name': this.state.ticker,\r\n              'data': json.map(entry=>entry.close)\r\n            }],\r\n                        \r\n            'xaxis': {'categories': json.map(entry=>entry.date)}\r\n          },\r\n          'series': [{\r\n            'name': this.state.ticker,\r\n            'data': json.map(entry=>entry.close)\r\n          }]\r\n        \r\n      }\r\n    )\r\n  }\r\n\r\n  componentWillMount() {\r\n     this.lookUp(this.props.tickerToLook)\r\n  }\r\n\r\n  lookUp = (ticker) => {\r\n    const promise = fetch(`https://cloud.iexapis.com/stable/stock/${ticker}/chart/1m?token=${process.env.REACT_APP_API_PUBLISH}`)\r\n    promise.then(blob=>blob.json()).then(json=>{\r\n      console.log(\"JSON\",json)\r\n      this.setChartFromIEXResponse(json)\r\n    })\r\n  }\r\n\r\n  render() {\r\n  console.log(\"RENDER==lookupticker==\",this.state.ticker)\r\n  console.log(\"RENDER==options==\",this.state.options)\r\n\r\n    let chart = [];\r\n    if (this.state.ticker) {\r\n      chart = (<ReactApexChart options={this.state.options}\r\n                      series={this.state.series}\r\n                      type=\"area\" height=\"350\"\r\n                />);\r\n    }\r\n    return <Fragment>\r\n\r\n      <form>\r\n        <label htmlFor='ticker'>ticker</label>\r\n        <input name='ticker' value={this.state.ticker} onChange={(event)=>{\r\n          this.setState({ticker: event.target.value})\r\n        }}/>\r\n        <br />\r\n        <button onClick={(event)=>{\r\n          event.preventDefault()\r\n          this.lookUp(this.state.ticker)\r\n\r\n          \r\n        }}>Look Up</button>\r\n      </form>\r\n      <div>\r\n      {chart}\r\n      </div>\r\n     \r\n    </Fragment>\r\n  }\r\n}\r\n\r\nexport default AreaChart;\r\n"]},"metadata":{},"sourceType":"module"}