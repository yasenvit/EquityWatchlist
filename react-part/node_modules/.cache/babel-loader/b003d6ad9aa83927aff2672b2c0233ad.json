{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/yavit/OneDrive/Desktop/EquityEcho/WatchlistFundamentals/react-part/src/components/Ticker/AreaChartSmall.js\";\nimport React, { Component, Fragment } from 'react';\nimport ReactApexChart from 'react-apexcharts';\nimport '../../styles/style.css'; // const hdata = [{\"date\":\"2019-06-19\",\"open\":199.68,\"close\":197.87,\"high\":199.88,\"low\":197.31,\"volume\":21124235,\"uOpen\":199.68,\"uClose\":197.87,\"uHigh\":199.88,\"uLow\":197.31,\"uVolume\":21124235,\"change\":0,\"changePercent\":0,\"label\":\"Jun 19\",\"changeOverTime\":0},{\"date\":\"2019-06-20\",\"open\":200.37,\"close\":199.46,\"high\":200.61,\"low\":198.03,\"volume\":21513988,\"uOpen\":200.37,\"uClose\":199.46,\"uHigh\":200.61,\"uLow\":198.03,\"uVolume\":21513988,\"change\":1.59,\"changePercent\":0.8036,\"label\":\"Jun 20\",\"changeOverTime\":0.008036},{\"date\":\"2019-06-21\",\"open\":198.8,\"close\":198.78,\"high\":200.85,\"low\":198.15,\"volume\":47800589,\"uOpen\":198.8,\"uClose\":198.78,\"uHigh\":200.85,\"uLow\":198.15,\"uVolume\":47800589,\"change\":-0.68,\"changePercent\":-0.3409,\"label\":\"Jun 21\",\"changeOverTime\":0.004599},{\"date\":\"2019-06-24\",\"open\":198.54,\"close\":198.58,\"high\":200.16,\"low\":198.17,\"volume\":18220421,\"uOpen\":198.54,\"uClose\":198.58,\"uHigh\":200.16,\"uLow\":198.17,\"uVolume\":18220421,\"change\":-0.2,\"changePercent\":-0.1006,\"label\":\"Jun 24\",\"changeOverTime\":0.003588},{\"date\":\"2019-06-25\",\"open\":198.43,\"close\":195.57,\"high\":199.26,\"low\":195.29,\"volume\":21070334,\"uOpen\":198.43,\"uClose\":195.57,\"uHigh\":199.26,\"uLow\":195.29,\"uVolume\":21070334,\"change\":-3.01,\"changePercent\":-1.5158,\"label\":\"Jun 25\",\"changeOverTime\":-0.011624},{\"date\":\"2019-06-26\",\"open\":197.77,\"close\":199.8,\"high\":200.99,\"low\":197.35,\"volume\":26067512,\"uOpen\":197.77,\"uClose\":199.8,\"uHigh\":200.99,\"uLow\":197.35,\"uVolume\":26067512,\"change\":4.23,\"changePercent\":2.1629,\"label\":\"Jun 26\",\"changeOverTime\":0.009754},{\"date\":\"2019-06-27\",\"open\":200.29,\"close\":199.74,\"high\":201.57,\"low\":199.57,\"volume\":20899717,\"uOpen\":200.29,\"uClose\":199.74,\"uHigh\":201.57,\"uLow\":199.57,\"uVolume\":20899717,\"change\":-0.06,\"changePercent\":-0.03,\"label\":\"Jun 27\",\"changeOverTime\":0.009451},{\"date\":\"2019-06-28\",\"open\":198.68,\"close\":197.92,\"high\":199.49,\"low\":197.05,\"volume\":31110642,\"uOpen\":198.68,\"uClose\":197.92,\"uHigh\":199.49,\"uLow\":197.05,\"uVolume\":31110642,\"change\":-1.82,\"changePercent\":-0.9112,\"label\":\"Jun 28\",\"changeOverTime\":0.000253},{\"date\":\"2019-07-01\",\"open\":203.17,\"close\":201.55,\"high\":204.49,\"low\":200.65,\"volume\":27316739,\"uOpen\":203.17,\"uClose\":201.55,\"uHigh\":204.49,\"uLow\":200.65,\"uVolume\":27316739,\"change\":3.63,\"changePercent\":1.8341,\"label\":\"Jul 1\",\"changeOverTime\":0.018598},{\"date\":\"2019-07-02\",\"open\":201.41,\"close\":202.73,\"high\":203.13,\"low\":201.36,\"volume\":16935217,\"uOpen\":201.41,\"uClose\":202.73,\"uHigh\":203.13,\"uLow\":201.36,\"uVolume\":16935217,\"change\":1.18,\"changePercent\":0.5855,\"label\":\"Jul 2\",\"changeOverTime\":0.024562},{\"date\":\"2019-07-03\",\"open\":203.28,\"close\":204.41,\"high\":204.44,\"low\":202.69,\"volume\":11362045,\"uOpen\":203.28,\"uClose\":204.41,\"uHigh\":204.44,\"uLow\":202.69,\"uVolume\":11362045,\"change\":1.68,\"changePercent\":0.8287,\"label\":\"Jul 3\",\"changeOverTime\":0.033052},{\"date\":\"2019-07-05\",\"open\":203.35,\"close\":204.23,\"high\":205.08,\"low\":202.9,\"volume\":17265518,\"uOpen\":203.35,\"uClose\":204.23,\"uHigh\":205.08,\"uLow\":202.9,\"uVolume\":17265518,\"change\":-0.18,\"changePercent\":-0.0881,\"label\":\"Jul 5\",\"changeOverTime\":0.032142},{\"date\":\"2019-07-08\",\"open\":200.81,\"close\":200.02,\"high\":201.4,\"low\":198.41,\"volume\":25338628,\"uOpen\":200.81,\"uClose\":200.02,\"uHigh\":201.4,\"uLow\":198.41,\"uVolume\":25338628,\"change\":-4.21,\"changePercent\":-2.0614,\"label\":\"Jul 8\",\"changeOverTime\":0.010866},{\"date\":\"2019-07-09\",\"open\":199.2,\"close\":201.24,\"high\":201.51,\"low\":198.81,\"volume\":20578015,\"uOpen\":199.2,\"uClose\":201.24,\"uHigh\":201.51,\"uLow\":198.81,\"uVolume\":20578015,\"change\":1.22,\"changePercent\":0.6099,\"label\":\"Jul 9\",\"changeOverTime\":0.017031},{\"date\":\"2019-07-10\",\"open\":201.85,\"close\":203.23,\"high\":203.73,\"low\":201.56,\"volume\":17897138,\"uOpen\":201.85,\"uClose\":203.23,\"uHigh\":203.73,\"uLow\":201.56,\"uVolume\":17897138,\"change\":1.99,\"changePercent\":0.9889,\"label\":\"Jul 10\",\"changeOverTime\":0.027088},{\"date\":\"2019-07-11\",\"open\":203.31,\"close\":201.75,\"high\":204.39,\"low\":201.71,\"volume\":20191842,\"uOpen\":203.31,\"uClose\":201.75,\"uHigh\":204.39,\"uLow\":201.71,\"uVolume\":20191842,\"change\":-1.48,\"changePercent\":-0.7282,\"label\":\"Jul 11\",\"changeOverTime\":0.019609},{\"date\":\"2019-07-12\",\"open\":202.45,\"close\":203.3,\"high\":204,\"low\":202.2,\"volume\":17595212,\"uOpen\":202.45,\"uClose\":203.3,\"uHigh\":204,\"uLow\":202.2,\"uVolume\":17595212,\"change\":1.55,\"changePercent\":0.7683,\"label\":\"Jul 12\",\"changeOverTime\":0.027442},{\"date\":\"2019-07-15\",\"open\":204.09,\"close\":205.21,\"high\":205.87,\"low\":204,\"volume\":16947420,\"uOpen\":204.09,\"uClose\":205.21,\"uHigh\":205.87,\"uLow\":204,\"uVolume\":16947420,\"change\":1.91,\"changePercent\":0.9395,\"label\":\"Jul 15\",\"changeOverTime\":0.037095},{\"date\":\"2019-07-16\",\"open\":204.59,\"close\":204.5,\"high\":206.11,\"low\":203.5,\"volume\":16866816,\"uOpen\":204.59,\"uClose\":204.5,\"uHigh\":206.11,\"uLow\":203.5,\"uVolume\":16866816,\"change\":-0.71,\"changePercent\":-0.346,\"label\":\"Jul 16\",\"changeOverTime\":0.033507},{\"date\":\"2019-07-17\",\"open\":204.05,\"close\":203.35,\"high\":205.09,\"low\":203.27,\"volume\":14107450,\"uOpen\":204.05,\"uClose\":203.35,\"uHigh\":205.09,\"uLow\":203.27,\"uVolume\":14107450,\"change\":-1.15,\"changePercent\":-0.5623,\"label\":\"Jul 17\",\"changeOverTime\":0.027695},{\"date\":\"2019-07-18\",\"open\":204,\"close\":205.66,\"high\":205.88,\"low\":203.7,\"volume\":18582161,\"uOpen\":204,\"uClose\":205.66,\"uHigh\":205.88,\"uLow\":203.7,\"uVolume\":18582161,\"change\":2.31,\"changePercent\":1.136,\"label\":\"Jul 18\",\"changeOverTime\":0.039369}]\n\nclass AreaChartSmall extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setChartData = json => {\n      const chartData = [];\n      json.map((data, index) => chartData.push([data.time, data.close]));\n      this.setState({\n        series: [{\n          data: chartData,\n          name: this.state.tickerToLook\n        }],\n        options: {\n          xaxis: {\n            min: chartData[0][0],\n            max: chartData.slice(-1).pop()[0]\n          }\n        }\n      });\n    };\n\n    this.getChartData = ticker => {\n      if (ticker) {\n        const promise = fetch(\"https://api-v2.intrinio.com/securities/\".concat(ticker, \"/prices/intraday?api_key=Ojc5ODgxZjNmZDczNGQwMGJkZTY0NTg4Y2ViY2EyZTVi\"));\n        promise.then(blob => blob.json()).then(json => {\n          console.log(\"json.intraday\", json.intraday_prices);\n          this.setChartData(json.intraday_prices);\n        });\n      }\n    };\n\n    this.state = {\n      tickerToLook: null,\n      selection: '1m',\n      options: {\n        dataLabels: {\n          enabled: false\n        },\n        markers: {\n          size: 0,\n          style: 'hollow'\n        },\n        xaxis: {\n          type: 'datetime',\n          min: new Date('01 Jul 2019').getTime(),\n          tickAmount: 6\n        },\n        tooltip: {\n          x: {\n            format: 'dd MMM yyyy'\n          }\n        },\n        fill: {\n          type: 'gradient',\n          gradient: {\n            shadeIntensity: 1,\n            opacityFrom: 0.7,\n            opacityTo: 0.9,\n            stops: [0, 100]\n          }\n        }\n      },\n      series: [{\n        name: \"\",\n        data: []\n      }]\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      tickerToLook: this.props.tickerToLook\n    });\n    this.getChartData(this.props.tickerToLook);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.tickerToLook !== prevProps.tickerToLook) {\n      this.setState({\n        tickerToLook: this.props.tickerToLook\n      });\n      this.getChartData(this.props.tickerToLook);\n    }\n  }\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"chartsmall\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(ReactApexChart, {\n      options: this.state.options,\n      series: this.state.series,\n      type: \"area\",\n      height: \"300\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default AreaChartSmall;","map":{"version":3,"sources":["/mnt/c/Users/yavit/OneDrive/Desktop/EquityEcho/WatchlistFundamentals/react-part/src/components/Ticker/AreaChartSmall.js"],"names":["React","Component","Fragment","ReactApexChart","AreaChartSmall","constructor","props","setChartData","json","chartData","map","data","index","push","time","close","setState","series","name","state","tickerToLook","options","xaxis","min","max","slice","pop","getChartData","ticker","promise","fetch","then","blob","console","log","intraday_prices","selection","dataLabels","enabled","markers","size","style","type","Date","getTime","tickAmount","tooltip","x","format","fill","gradient","shadeIntensity","opacityFrom","opacityTo","stops","componentDidMount","componentDidUpdate","prevProps","render"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\r\nimport ReactApexChart from 'react-apexcharts';\r\nimport '../../styles/style.css';\r\n\r\n// const hdata = [{\"date\":\"2019-06-19\",\"open\":199.68,\"close\":197.87,\"high\":199.88,\"low\":197.31,\"volume\":21124235,\"uOpen\":199.68,\"uClose\":197.87,\"uHigh\":199.88,\"uLow\":197.31,\"uVolume\":21124235,\"change\":0,\"changePercent\":0,\"label\":\"Jun 19\",\"changeOverTime\":0},{\"date\":\"2019-06-20\",\"open\":200.37,\"close\":199.46,\"high\":200.61,\"low\":198.03,\"volume\":21513988,\"uOpen\":200.37,\"uClose\":199.46,\"uHigh\":200.61,\"uLow\":198.03,\"uVolume\":21513988,\"change\":1.59,\"changePercent\":0.8036,\"label\":\"Jun 20\",\"changeOverTime\":0.008036},{\"date\":\"2019-06-21\",\"open\":198.8,\"close\":198.78,\"high\":200.85,\"low\":198.15,\"volume\":47800589,\"uOpen\":198.8,\"uClose\":198.78,\"uHigh\":200.85,\"uLow\":198.15,\"uVolume\":47800589,\"change\":-0.68,\"changePercent\":-0.3409,\"label\":\"Jun 21\",\"changeOverTime\":0.004599},{\"date\":\"2019-06-24\",\"open\":198.54,\"close\":198.58,\"high\":200.16,\"low\":198.17,\"volume\":18220421,\"uOpen\":198.54,\"uClose\":198.58,\"uHigh\":200.16,\"uLow\":198.17,\"uVolume\":18220421,\"change\":-0.2,\"changePercent\":-0.1006,\"label\":\"Jun 24\",\"changeOverTime\":0.003588},{\"date\":\"2019-06-25\",\"open\":198.43,\"close\":195.57,\"high\":199.26,\"low\":195.29,\"volume\":21070334,\"uOpen\":198.43,\"uClose\":195.57,\"uHigh\":199.26,\"uLow\":195.29,\"uVolume\":21070334,\"change\":-3.01,\"changePercent\":-1.5158,\"label\":\"Jun 25\",\"changeOverTime\":-0.011624},{\"date\":\"2019-06-26\",\"open\":197.77,\"close\":199.8,\"high\":200.99,\"low\":197.35,\"volume\":26067512,\"uOpen\":197.77,\"uClose\":199.8,\"uHigh\":200.99,\"uLow\":197.35,\"uVolume\":26067512,\"change\":4.23,\"changePercent\":2.1629,\"label\":\"Jun 26\",\"changeOverTime\":0.009754},{\"date\":\"2019-06-27\",\"open\":200.29,\"close\":199.74,\"high\":201.57,\"low\":199.57,\"volume\":20899717,\"uOpen\":200.29,\"uClose\":199.74,\"uHigh\":201.57,\"uLow\":199.57,\"uVolume\":20899717,\"change\":-0.06,\"changePercent\":-0.03,\"label\":\"Jun 27\",\"changeOverTime\":0.009451},{\"date\":\"2019-06-28\",\"open\":198.68,\"close\":197.92,\"high\":199.49,\"low\":197.05,\"volume\":31110642,\"uOpen\":198.68,\"uClose\":197.92,\"uHigh\":199.49,\"uLow\":197.05,\"uVolume\":31110642,\"change\":-1.82,\"changePercent\":-0.9112,\"label\":\"Jun 28\",\"changeOverTime\":0.000253},{\"date\":\"2019-07-01\",\"open\":203.17,\"close\":201.55,\"high\":204.49,\"low\":200.65,\"volume\":27316739,\"uOpen\":203.17,\"uClose\":201.55,\"uHigh\":204.49,\"uLow\":200.65,\"uVolume\":27316739,\"change\":3.63,\"changePercent\":1.8341,\"label\":\"Jul 1\",\"changeOverTime\":0.018598},{\"date\":\"2019-07-02\",\"open\":201.41,\"close\":202.73,\"high\":203.13,\"low\":201.36,\"volume\":16935217,\"uOpen\":201.41,\"uClose\":202.73,\"uHigh\":203.13,\"uLow\":201.36,\"uVolume\":16935217,\"change\":1.18,\"changePercent\":0.5855,\"label\":\"Jul 2\",\"changeOverTime\":0.024562},{\"date\":\"2019-07-03\",\"open\":203.28,\"close\":204.41,\"high\":204.44,\"low\":202.69,\"volume\":11362045,\"uOpen\":203.28,\"uClose\":204.41,\"uHigh\":204.44,\"uLow\":202.69,\"uVolume\":11362045,\"change\":1.68,\"changePercent\":0.8287,\"label\":\"Jul 3\",\"changeOverTime\":0.033052},{\"date\":\"2019-07-05\",\"open\":203.35,\"close\":204.23,\"high\":205.08,\"low\":202.9,\"volume\":17265518,\"uOpen\":203.35,\"uClose\":204.23,\"uHigh\":205.08,\"uLow\":202.9,\"uVolume\":17265518,\"change\":-0.18,\"changePercent\":-0.0881,\"label\":\"Jul 5\",\"changeOverTime\":0.032142},{\"date\":\"2019-07-08\",\"open\":200.81,\"close\":200.02,\"high\":201.4,\"low\":198.41,\"volume\":25338628,\"uOpen\":200.81,\"uClose\":200.02,\"uHigh\":201.4,\"uLow\":198.41,\"uVolume\":25338628,\"change\":-4.21,\"changePercent\":-2.0614,\"label\":\"Jul 8\",\"changeOverTime\":0.010866},{\"date\":\"2019-07-09\",\"open\":199.2,\"close\":201.24,\"high\":201.51,\"low\":198.81,\"volume\":20578015,\"uOpen\":199.2,\"uClose\":201.24,\"uHigh\":201.51,\"uLow\":198.81,\"uVolume\":20578015,\"change\":1.22,\"changePercent\":0.6099,\"label\":\"Jul 9\",\"changeOverTime\":0.017031},{\"date\":\"2019-07-10\",\"open\":201.85,\"close\":203.23,\"high\":203.73,\"low\":201.56,\"volume\":17897138,\"uOpen\":201.85,\"uClose\":203.23,\"uHigh\":203.73,\"uLow\":201.56,\"uVolume\":17897138,\"change\":1.99,\"changePercent\":0.9889,\"label\":\"Jul 10\",\"changeOverTime\":0.027088},{\"date\":\"2019-07-11\",\"open\":203.31,\"close\":201.75,\"high\":204.39,\"low\":201.71,\"volume\":20191842,\"uOpen\":203.31,\"uClose\":201.75,\"uHigh\":204.39,\"uLow\":201.71,\"uVolume\":20191842,\"change\":-1.48,\"changePercent\":-0.7282,\"label\":\"Jul 11\",\"changeOverTime\":0.019609},{\"date\":\"2019-07-12\",\"open\":202.45,\"close\":203.3,\"high\":204,\"low\":202.2,\"volume\":17595212,\"uOpen\":202.45,\"uClose\":203.3,\"uHigh\":204,\"uLow\":202.2,\"uVolume\":17595212,\"change\":1.55,\"changePercent\":0.7683,\"label\":\"Jul 12\",\"changeOverTime\":0.027442},{\"date\":\"2019-07-15\",\"open\":204.09,\"close\":205.21,\"high\":205.87,\"low\":204,\"volume\":16947420,\"uOpen\":204.09,\"uClose\":205.21,\"uHigh\":205.87,\"uLow\":204,\"uVolume\":16947420,\"change\":1.91,\"changePercent\":0.9395,\"label\":\"Jul 15\",\"changeOverTime\":0.037095},{\"date\":\"2019-07-16\",\"open\":204.59,\"close\":204.5,\"high\":206.11,\"low\":203.5,\"volume\":16866816,\"uOpen\":204.59,\"uClose\":204.5,\"uHigh\":206.11,\"uLow\":203.5,\"uVolume\":16866816,\"change\":-0.71,\"changePercent\":-0.346,\"label\":\"Jul 16\",\"changeOverTime\":0.033507},{\"date\":\"2019-07-17\",\"open\":204.05,\"close\":203.35,\"high\":205.09,\"low\":203.27,\"volume\":14107450,\"uOpen\":204.05,\"uClose\":203.35,\"uHigh\":205.09,\"uLow\":203.27,\"uVolume\":14107450,\"change\":-1.15,\"changePercent\":-0.5623,\"label\":\"Jul 17\",\"changeOverTime\":0.027695},{\"date\":\"2019-07-18\",\"open\":204,\"close\":205.66,\"high\":205.88,\"low\":203.7,\"volume\":18582161,\"uOpen\":204,\"uClose\":205.66,\"uHigh\":205.88,\"uLow\":203.7,\"uVolume\":18582161,\"change\":2.31,\"changePercent\":1.136,\"label\":\"Jul 18\",\"changeOverTime\":0.039369}]\r\n\r\nclass AreaChartSmall extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      tickerToLook : null,\r\n      selection: '1m',\r\n      options: {\r\n        dataLabels: {\r\n        enabled: false\r\n      },\r\n      markers: {\r\n        size: 0,\r\n        style: 'hollow',\r\n      },\r\n      xaxis: {\r\n        type: 'datetime',\r\n        min: new Date('01 Jul 2019').getTime(),\r\n        tickAmount: 6,\r\n      },\r\n      tooltip: {\r\n        x: {\r\n          format: 'dd MMM yyyy'\r\n        }\r\n      },\r\n      fill: {\r\n        type: 'gradient',\r\n        gradient: {\r\n          shadeIntensity: 1,\r\n          opacityFrom: 0.7,\r\n          opacityTo: 0.9,\r\n          stops: [0, 100]\r\n        }\r\n      }\r\n      },\r\n      series: [{\r\n        name: \"\",\r\n        data : []\r\n      }],\r\n    }\r\n  }\r\n  \r\n  setChartData = (json) => {\r\n    const chartData = []\r\n    json.map((data, index)=> (\r\n      chartData.push([data.time,data.close])\r\n    ))\r\n    this.setState({\r\n      series:[{data: chartData, name: this.state.tickerToLook}],\r\n      options: {\r\n        xaxis: {\r\n          min: chartData[0][0],\r\n          max: chartData.slice(-1).pop()[0]\r\n        }\r\n      }\r\n    })\r\n  }\r\n  \r\n  getChartData = (ticker) => {\r\n    if(ticker){\r\n    const promise = fetch(`https://api-v2.intrinio.com/securities/${ticker}/prices/intraday?api_key=Ojc5ODgxZjNmZDczNGQwMGJkZTY0NTg4Y2ViY2EyZTVi`)\r\n      promise.then(blob=>blob.json()).then(json=>{\r\n      console.log(\"json.intraday\", json.intraday_prices)\r\n      this.setChartData(json.intraday_prices)\r\n    })\r\n  }}\r\n\r\n  componentDidMount(){\r\n    this.setState({tickerToLook:this.props.tickerToLook})\r\n    this.getChartData(this.props.tickerToLook)\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if(this.props.tickerToLook !== prevProps.tickerToLook){\r\n      this.setState({tickerToLook: this.props.tickerToLook})\r\n      this.getChartData(this.props.tickerToLook)\r\n    } \r\n  }\r\n  \r\n  render() {\r\n\r\n    return (\r\n      <Fragment>\r\n        <div id=\"chartsmall\">\r\n          <ReactApexChart options={this.state.options} series={this.state.series} type=\"area\" height=\"300\" />\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AreaChartSmall;"]},"metadata":{},"sourceType":"module"}