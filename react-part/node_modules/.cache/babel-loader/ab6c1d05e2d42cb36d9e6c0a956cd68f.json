{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/yavit/OneDrive/Desktop/myProjects/EquityEcho/WatchlistFundamentals/react-part/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport './styles/style.css';\nimport isloggedin from './util/isloggedin';\nimport Login from './util/Login';\nimport logoutf from './util/logoutf';\nimport SignUp from './util/SignUp';\nimport apiCall from './util/apiCall';\nimport Dashboard from './components/Dashboard';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      time: new Date(),\n      refresh: \"empty\",\n      error: \"no error\",\n      username: null\n    };\n\n    this.signup = (username, password) => {\n      const promise = apiCall('/api/signup', 'post', {\n        \"username\": username,\n        \"password\": password\n      });\n      promise.then(blob => blob.json()).then(json => {\n        if (json.api_key !== undefined) {\n          window.sessionStorage.setItem(\"apikey\", json.api_key);\n          window.sessionStorage.setItem(\"username\", json.username);\n          this.setState({\n            refresh: \"loggedin\",\n            error: \"\"\n          });\n        } else {\n          this.setState({\n            refresh: \"login error\",\n            error: \"Could not sign up\"\n          });\n          alert(\"This username is already taken\");\n        }\n      });\n    };\n\n    this.loginf = (username, password) => {\n      const promise = apiCall('/api/get_api_key', 'post', {\n        \"username\": username,\n        \"password\": password\n      });\n      promise.then(blob => blob.json()).then(json => {\n        if (json.api_key !== undefined) {\n          window.sessionStorage.setItem(\"apikey\", json.api_key);\n          window.sessionStorage.setItem(\"username\", json.username);\n          this.setState({\n            refresh: \"loggedin\",\n            username: json.username\n          });\n        } else {\n          this.setState({\n            refresh: \"login error\",\n            error: \"Could not log in\"\n          });\n        }\n      });\n    };\n\n    this.logoutClick = event => {\n      event.preventDefault();\n      logoutf();\n      this.setState({\n        refresh: \"loggedout\"\n      });\n    };\n  }\n\n  currentTime() {\n    this.setState({\n      time: new Date()\n    });\n  }\n\n  render() {\n    let appLogin = [];\n    let routeList = [];\n    let appSignUp = [];\n    let output = [];\n\n    if (isloggedin()) {\n      routeList = [React.createElement(Route, {\n        exact: true,\n        path: \"/login\",\n        render: () => React.createElement(Redirect, {\n          to: \"/dashboard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/signup\",\n        render: () => React.createElement(Redirect, {\n          to: \"/dashboard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/dashboard\",\n        render: props => React.createElement(Dashboard, Object.assign({}, props, {\n          clicked: this.logoutClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })];\n      output = React.createElement(\"div\", {\n        className: \"entire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, routeList);\n    } else {\n      routeList = [React.createElement(Route, {\n        exact: true,\n        path: \"/signup\",\n        render: props => React.createElement(SignUp, Object.assign({}, props, {\n          signupfunc: this.signup,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/login\",\n        render: props => React.createElement(Login, Object.assign({}, props, {\n          loginfunc: this.loginf,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/dashboard\",\n        render: props => React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      })];\n      appSignUp = [React.createElement(Link, {\n        to: \"/signup\",\n        style: {\n          color: \"white\",\n          textDecoration: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Sign up\")];\n      appLogin = [React.createElement(Link, {\n        to: \"/login\",\n        style: {\n          color: \"white\",\n          textDecoration: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Sing in\")];\n      output = React.createElement(\"div\", {\n        className: \"entire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header-container-out\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, this.state.time.toLocaleDateString()), React.createElement(\"div\", {\n        className: \"header-item header-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Equity watchlist\"), React.createElement(\"div\", {\n        className: \"header-item header-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"signup\",\n        style: {\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, appSignUp), React.createElement(\"div\", {\n        className: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, appLogin))), React.createElement(\"div\", {\n        className: \"unsigned-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, routeList), React.createElement(\"div\", {\n        className: \"footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"created by Vitaliy Yasenivskyy\"));\n    }\n\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, output);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/mnt/c/Users/yavit/OneDrive/Desktop/myProjects/EquityEcho/WatchlistFundamentals/react-part/src/App.js"],"names":["React","Component","BrowserRouter","Route","Redirect","Link","isloggedin","Login","logoutf","SignUp","apiCall","Dashboard","App","state","time","Date","refresh","error","username","signup","password","promise","then","blob","json","api_key","undefined","window","sessionStorage","setItem","setState","alert","loginf","logoutClick","event","preventDefault","currentTime","render","appLogin","routeList","appSignUp","output","props","color","textDecoration","toLocaleDateString"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom'\nimport './styles/style.css';\nimport isloggedin from './util/isloggedin';\nimport Login from './util/Login';\nimport logoutf from './util/logoutf';\nimport SignUp from './util/SignUp';\nimport apiCall from './util/apiCall';\nimport Dashboard from './components/Dashboard'\n\nclass App extends Component {\n  state = {\n    time: new Date(),\n    refresh: \"empty\",\n    error: \"no error\",\n    username: null\n  }\n  currentTime() {\n    this.setState({\n      time: new Date()\n    })\n  }\n\n  signup = (username, password) => {\n    const promise = apiCall('/api/signup', 'post', {\n      \"username\": username,\n      \"password\": password\n    })\n    promise.then(blob => blob.json()).then(json => {\n      if (json.api_key !== undefined) {\n        window.sessionStorage.setItem(\"apikey\", json.api_key)\n        window.sessionStorage.setItem(\"username\", json.username)\n        this.setState({\n          refresh: \"loggedin\",\n          error: \"\"\n        })\n      } else {\n        this.setState({\n          refresh: \"login error\",\n          error: \"Could not sign up\"\n        })\n        alert(\"This username is already taken\")\n      }\n    })\n  }\n\n  loginf = (username, password) => {\n    const promise = apiCall('/api/get_api_key', 'post', {\n      \"username\": username,\n      \"password\": password\n    })\n    promise.then(blob => blob.json()).then(json => {\n      if (json.api_key !== undefined) {\n        window.sessionStorage.setItem(\"apikey\", json.api_key)\n        window.sessionStorage.setItem(\"username\", json.username)\n        this.setState({\n          refresh: \"loggedin\",\n          username: json.username\n        })\n      } else {\n        this.setState({\n          refresh: \"login error\",\n          error: \"Could not log in\"\n        })\n      }\n    })\n  }\n\n  logoutClick = (event) => {\n    event.preventDefault()\n    logoutf()\n    this.setState({ refresh: \"loggedout\" })\n  }\n\n  render() {\n    let appLogin = []\n    let routeList = []\n    let appSignUp = []\n    let output = []\n\n    if (isloggedin()) {\n      routeList = [\n        <Route exact path=\"/login\" render={() => <Redirect to=\"/dashboard\" />} />,\n        <Route exact path=\"/signup\" render={() => <Redirect to=\"/dashboard\" />} />,\n        <Route path=\"/dashboard\" render={(props) => <Dashboard {...props} clicked={this.logoutClick} />} />,\n\n      ]\n      output = (\n        <div className=\"entire\">\n          {routeList}\n        </div>\n      )\n\n    } else {\n      routeList = [\n        <Route exact path=\"/signup\" render={(props) => <SignUp {...props} signupfunc={this.signup} />} />,\n        <Route exact path=\"/login\" render={(props) => <Login {...props} loginfunc={this.loginf} />} />,\n        <Route exact path=\"/dashboard\" render={(props) => <Redirect to=\"/\" />} />,\n      ]\n      appSignUp = [<Link to=\"/signup\" style={{ color: \"white\", textDecoration: \"none\" }} >Sign up</Link>]\n      appLogin = [<Link to=\"/login\" style={{ color: \"white\", textDecoration: \"none\" }}>Sing in</Link>]\n\n      output = (\n        <div className=\"entire\">\n          <div className='header-container-out'>\n            <div className='header-item'>{this.state.time.toLocaleDateString()}</div>\n            <div className='header-item header-center'>Equity watchlist</div>\n            <div className=\"header-item header-right\">\n              <div className='signup' style={{ color: \"white\" }}>{appSignUp}</div>\n              <div className='login'>{appLogin}</div>\n            </div>\n          </div>\n          <div className=\"unsigned-body\">\n            {routeList}\n          </div>\n          <div className=\"footer\">\n            created by Vitaliy Yasenivskyy\n          </div>\n        </div>\n      )\n    }\n    return (\n      <BrowserRouter>\n\n        {output}\n\n      </BrowserRouter>\n    )\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}