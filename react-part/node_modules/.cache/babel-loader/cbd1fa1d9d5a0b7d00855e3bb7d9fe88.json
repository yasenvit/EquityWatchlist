{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/yavit/OneDrive/Desktop/EquityEcho/WatchlistFundamentals/react-part/src/components/Ticker/AreaChart.js\";\nimport React, { Component, Fragment } from 'react';\nimport ReactApexChart from 'react-apexcharts';\n\nclass AreaChart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setChartFromIEXResponse = (json, ticker) => {\n      const newOptions = this.state.options;\n      newOptions.xaxis = {\n        'categories': json.map(entry => entry.date)\n      };\n      const stateToSet = {\n        ticker: ticker,\n        render: true,\n        options: newOptions,\n        'series': [{\n          'name': this.state.ticker,\n          'data': json.map(entry => entry.close)\n        }]\n      };\n      this.setState(stateToSet);\n      console.log(\"setChartFromIEXResponse\", stateToSet);\n    };\n\n    this.lookUp = ticker => {\n      this.setState({\n        ticker: ticker\n      }, state => {\n        const promise = fetch(\"https://cloud.iexapis.com/stable/stock/\".concat(ticker, \"/chart/1m?token=\").concat(process.env.REACT_APP_API_PUBLISH));\n        promise.then(blob => blob.json()).then(json => {\n          console.log(\"lookUp JSON\", json);\n          this.setChartFromIEXResponse(json, ticker);\n        });\n      });\n    };\n\n    this.state = {\n      ticker: null,\n      render: true,\n      chart: null,\n      options: {\n        chart: {\n          zoom: {\n            enabled: false\n          }\n        },\n        dataLabels: {\n          enabled: false\n        },\n        stroke: {\n          curve: 'straight'\n        },\n        series: [{\n          name: \"STOCK ABC\",\n          data: \"no-data\" // need to adjust\n\n        }],\n        title: {\n          text: 'Fundamental Analysis of Stocks',\n          align: 'left'\n        },\n        subtitle: {\n          text: 'Price Movements',\n          align: 'left'\n        },\n        labels: \"no-label\",\n        xaxis: {\n          type: 'datetime'\n        },\n        yaxis: {\n          opposite: true\n        },\n        legend: {\n          horizontalAlign: 'left'\n        }\n      },\n      series: []\n    };\n  }\n\n  componentWillMount() {\n    console.log(\"=== ComponentWillMount === ticker\", this.props.tickerToLook);\n    this.lookUp(this.props.tickerToLook);\n  }\n\n  render() {\n    console.log(\"RENDER==state\", this.state);\n    let chart = [];\n\n    if (this.state.render) {\n      chart = React.createElement(ReactApexChart, {\n        options: this.state.options,\n        series: this.state.series,\n        type: \"area\",\n        height: \"350\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"ticker\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"ticker\"), React.createElement(\"input\", {\n      name: \"ticker\",\n      value: this.state.ticker,\n      onChange: event => {\n        this.setState({\n          ticker: event.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: event => {\n        event.preventDefault();\n        this.lookUp(this.state.ticker);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Look Up\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, chart));\n  }\n\n}\n\nexport default AreaChart;","map":{"version":3,"sources":["/mnt/c/Users/yavit/OneDrive/Desktop/EquityEcho/WatchlistFundamentals/react-part/src/components/Ticker/AreaChart.js"],"names":["React","Component","Fragment","ReactApexChart","AreaChart","constructor","props","setChartFromIEXResponse","json","ticker","newOptions","state","options","xaxis","map","entry","date","stateToSet","render","close","setState","console","log","lookUp","promise","fetch","process","env","REACT_APP_API_PUBLISH","then","blob","chart","zoom","enabled","dataLabels","stroke","curve","series","name","data","title","text","align","subtitle","labels","type","yaxis","opposite","legend","horizontalAlign","componentWillMount","tickerToLook","event","target","value","preventDefault"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\r\nimport ReactApexChart from 'react-apexcharts';\r\n\r\nclass AreaChart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    ticker: null,\r\n    render: true,\r\n    chart: null,\r\n    options: {\r\n      chart: {\r\n        zoom: {\r\n          enabled: false\r\n        }\r\n      },\r\n      dataLabels: {\r\n        enabled: false\r\n      },\r\n      stroke: {\r\n        curve: 'straight'\r\n      },\r\n      series: [{\r\n        name: \"STOCK ABC\",\r\n        data: \"no-data\" // need to adjust\r\n      }],\r\n      title: {\r\n        text: 'Fundamental Analysis of Stocks',\r\n        align: 'left'\r\n      },\r\n      subtitle: {\r\n        text: 'Price Movements',\r\n        align: 'left'\r\n      },\r\n      labels: \"no-label\",\r\n      xaxis: {\r\n        type: 'datetime',\r\n      },\r\n      yaxis: {\r\n        opposite: true\r\n      },\r\n      legend: {\r\n        horizontalAlign: 'left'\r\n      }\r\n    \r\n    },\r\n    series: []\r\n  }\r\n  }\r\n\r\n  setChartFromIEXResponse = (json, ticker) => {\r\n    const newOptions = this.state.options\r\n    newOptions.xaxis = {'categories': json.map(entry=>entry.date)}\r\n    const stateToSet =\r\n      {\r\n          ticker: ticker,\r\n          render: true,\r\n          options: newOptions,\r\n          'series': [{\r\n            'name': this.state.ticker,\r\n            'data': json.map(entry=>entry.close)\r\n          }]\r\n        \r\n      }\r\n      this.setState(stateToSet)\r\n      console.log(\"setChartFromIEXResponse\", stateToSet)\r\n  }\r\n\r\n  componentWillMount() {\r\n     console.log(\"=== ComponentWillMount === ticker\", this.props.tickerToLook)\r\n     this.lookUp(this.props.tickerToLook)\r\n  }\r\n\r\n  lookUp = (ticker) => {\r\n    this.setState({ticker:ticker}, (state)=>{\r\n    const promise = fetch(`https://cloud.iexapis.com/stable/stock/${ticker}/chart/1m?token=${process.env.REACT_APP_API_PUBLISH}`)\r\n    promise.then(blob=>blob.json()).then(json=>{\r\n      console.log(\"lookUp JSON\",json)\r\n      this.setChartFromIEXResponse(json, ticker)\r\n    })\r\n  })\r\n  }\r\n\r\n  render() {\r\n  console.log(\"RENDER==state\", this.state)\r\n\r\n    let chart = [];\r\n    if (this.state.render) {\r\n      chart = (<ReactApexChart options={this.state.options}\r\n                      series={this.state.series}\r\n                      type=\"area\" height=\"350\"\r\n                />);\r\n    }\r\n    return <Fragment>\r\n\r\n      <form>\r\n        <label htmlFor='ticker'>ticker</label>\r\n        <input name='ticker' value={this.state.ticker} onChange={(event)=>{\r\n          this.setState({ticker: event.target.value})\r\n        }}/>\r\n        <br />\r\n        <button onClick={(event)=>{\r\n          event.preventDefault()\r\n          this.lookUp(this.state.ticker)\r\n\r\n          \r\n        }}>Look Up</button>\r\n      </form>\r\n      <div>\r\n      {chart}\r\n      </div>\r\n     \r\n    </Fragment>\r\n  }\r\n}\r\n\r\nexport default AreaChart;\r\n"]},"metadata":{},"sourceType":"module"}