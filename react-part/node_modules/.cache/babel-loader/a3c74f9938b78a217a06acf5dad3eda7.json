{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/yavit/OneDrive/Desktop/EquityEcho/proreplica/proreplica_react/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport './styles/style.css';\nimport isloggedin from './util/isloggedin';\nimport Login from './util/Login';\nimport logoutf from './util/logoutf';\nimport SignUp from './util/SignUp';\nimport apiCall from './util/apiCall';\nimport Table from './components/Table';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      time: new Date(),\n      refresh: \"empty\",\n      error: \"no error\",\n      username: null\n    };\n\n    this.signup = (username, password) => {\n      const promise = apiCall('/api/signup', 'post', {\n        \"username\": username,\n        \"password\": password\n      });\n      promise.then(blob => blob.json()).then(json => {\n        if (json.api_key !== undefined) {\n          window.sessionStorage.setItem(\"apikey\", json.api_key);\n          window.sessionStorage.setItem(\"username\", json.username);\n          this.setState({\n            refresh: \"loggedin\",\n            error: \"\"\n          });\n        } else {\n          this.setState({\n            refresh: \"login error\",\n            error: \"Could not sign up\"\n          });\n          alert(\"This username is already taken\");\n        }\n      });\n    };\n\n    this.loginf = (username, password) => {\n      const promise = apiCall('/api/get_api_key', 'post', {\n        \"username\": username,\n        \"password\": password\n      });\n      promise.then(blob => blob.json()).then(json => {\n        if (json.api_key !== undefined) {\n          window.sessionStorage.setItem(\"apikey\", json.api_key);\n          window.sessionStorage.setItem(\"username\", json.username);\n          this.setState({\n            refresh: \"loggedin\",\n            username: json.username\n          });\n        } else {\n          this.setState({\n            refresh: \"login error\",\n            error: \"Could not log in\"\n          });\n        }\n      });\n    };\n\n    this.logoutClick = event => {\n      event.preventDefault();\n      logoutf();\n      this.setState({\n        refresh: \"loggedout\"\n      });\n    };\n  }\n\n  currentTime() {\n    this.setState({\n      time: new Date()\n    });\n  }\n\n  render() {\n    let appLogin = [];\n    let routeList = [];\n    let appSignUp = [];\n    let output = [];\n\n    if (isloggedin()) {\n      routeList = [React.createElement(Route, {\n        exact: true,\n        path: \"/login\",\n        render: () => React.createElement(Redirect, {\n          to: \"/table\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/signup\",\n        render: () => React.createElement(Redirect, {\n          to: \"/table\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/table\",\n        render: props => React.createElement(Table, Object.assign({}, props, {\n          clicked: this.logoutClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })];\n      output = React.createElement(\"div\", {\n        className: \"entire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, routeList);\n    } else {\n      routeList = [React.createElement(Route, {\n        exact: true,\n        path: \"/signup\",\n        render: props => React.createElement(SignUp, Object.assign({}, props, {\n          signupfunc: this.signup,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/login\",\n        render: props => React.createElement(Login, Object.assign({}, props, {\n          loginfunc: this.loginf,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/table\",\n        render: props => React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })];\n      appSignUp = [React.createElement(Link, {\n        to: \"/signup\",\n        style: {\n          color: \"white\",\n          textDecoration: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Sign up\")];\n      appLogin = [React.createElement(Link, {\n        to: \"/login\",\n        style: {\n          color: \"white\",\n          textDecoration: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Sing in\")];\n    }\n\n    output = React.createElement(\"div\", {\n      className: \"entire\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header-container-out\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.state.time.toLocaleDateString(), \" \", this.state.time.toLocaleTimeString()), React.createElement(\"div\", {\n      className: \"header-item header-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Welcome to Proreplica\"), React.createElement(\"div\", {\n      className: \"header-item header-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"signup\",\n      style: {\n        color: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, appSignUp), React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, appLogin))), React.createElement(\"div\", {\n      className: \"unsigned-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, routeList), React.createElement(\"div\", {\n      className: \"footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }));\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, output);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/mnt/c/Users/yavit/OneDrive/Desktop/EquityEcho/proreplica/proreplica_react/src/App.js"],"names":["React","Component","BrowserRouter","Route","Redirect","Link","isloggedin","Login","logoutf","SignUp","apiCall","Table","App","state","time","Date","refresh","error","username","signup","password","promise","then","blob","json","api_key","undefined","window","sessionStorage","setItem","setState","alert","loginf","logoutClick","event","preventDefault","currentTime","render","appLogin","routeList","appSignUp","output","props","color","textDecoration","toLocaleDateString","toLocaleTimeString"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {BrowserRouter, Route, Redirect} from 'react-router-dom';\nimport {Link} from 'react-router-dom'\nimport './styles/style.css';\nimport isloggedin from './util/isloggedin';\nimport Login from './util/Login';\nimport logoutf from './util/logoutf';\nimport SignUp from './util/SignUp';\nimport apiCall from './util/apiCall';\nimport Table from './components/Table'\n\nclass App extends Component {\n  state={\n    time: new Date(),\n    refresh:\"empty\",\n    error:\"no error\",\n    username:null\n  }\n  currentTime() {\n    this.setState ({\n      time:new Date()\n    })\n  }\n\n  signup = (username, password) => {\n    const promise = apiCall('/api/signup', 'post', {\n      \"username\": username,\n      \"password\": password\n    })\n    promise.then(blob=>blob.json()).then(json=>{\n      if (json.api_key !== undefined) {\n        window.sessionStorage.setItem(\"apikey\", json.api_key)\n        window.sessionStorage.setItem(\"username\", json.username)\n        this.setState({\n          refresh: \"loggedin\",\n          error: \"\"\n        })\n      } else {\n        this.setState({\n          refresh: \"login error\",\n          error: \"Could not sign up\"\n        })\n        alert(\"This username is already taken\")  \n      }\n    })\n  }\n\n  loginf = (username, password) => {\n    const promise = apiCall('/api/get_api_key', 'post', {\n      \"username\": username,\n      \"password\": password\n    })\n    promise.then(blob=>blob.json()).then(json=>{\n      if (json.api_key !== undefined) {\n        window.sessionStorage.setItem(\"apikey\", json.api_key)\n        window.sessionStorage.setItem(\"username\", json.username)\n        this.setState({\n          refresh: \"loggedin\",\n          username: json.username\n        })\n      } else {\n        this.setState({\n          refresh: \"login error\",\n          error: \"Could not log in\"\n        })   \n      }\n    })\n  }\n\n  logoutClick=(event)=>{\n    event.preventDefault()\n    logoutf()\n    this.setState({refresh: \"loggedout\"})\n  }\n\n  render () {\n    let appLogin = []\n    let routeList = []\n    let appSignUp = []\n    let output = []\n\n    if (isloggedin()){\n      routeList = [\n        <Route exact path=\"/login\" render={()=><Redirect to=\"/table\"/>}/>,\n        <Route exact path=\"/signup\" render={()=><Redirect to=\"/table\"/>}/>,\n        <Route exact path=\"/table\" render={(props)=><Table {...props} clicked={this.logoutClick} />}/>\n      ]\n      output = (\n        <div className=\"entire\">\n          {routeList}\n        </div>\n      )\n        \n    } else {\n      routeList=[\n        <Route exact path=\"/signup\" render={(props)=><SignUp {...props} signupfunc={this.signup}/>}/>,\n        <Route exact path=\"/login\" render={(props)=><Login {...props} loginfunc={this.loginf}/>} />,\n        <Route exact path=\"/table\" render={(props)=><Redirect to=\"/\"/>} />,\n      ]\n      appSignUp=[<Link to=\"/signup\" style={{color:\"white\", textDecoration: \"none\"}} >Sign up</Link>]\n      appLogin=[<Link to=\"/login\" style={{color:\"white\", textDecoration: \"none\"}}>Sing in</Link>]\n    }  \n      output= (\n        <div className=\"entire\">\n          <div className='header-container-out'>\n            <div className='header-item'>{this.state.time.toLocaleDateString()} {this.state.time.toLocaleTimeString()}</div>\n            <div className='header-item header-center'>Welcome to Proreplica</div>\n            <div className=\"header-item header-right\">\n              <div className='signup' style={{color:\"white\"}}>{appSignUp}</div>\n              <div className='login'>{appLogin}</div>\n            </div>\n          </div>\n          <div className=\"unsigned-body\">\n            {routeList}\n          </div>\n          <div className=\"footer\">\n          </div>\n        </div> \n      )\n    \n    return (\n      <BrowserRouter>\n        \n          {output}\n        \n      </BrowserRouter>\n    )\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}