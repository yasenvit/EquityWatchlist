{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/yavit/OneDrive/Desktop/EquityEcho/WatchlistFundamentals/react-part/src/components/screeners/ListTen.js\";\nimport React, { Component, Fragment } from 'react';\nimport apiCall from '../../util/apiCall';\nimport ListSheet from './ListSheet';\nimport '../../styles/style.css';\nexport default class ListTen extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getListTen = criteria => {\n      console.log(\"getListTen\");\n      const endpoint = \"/api/stocks/list/\".concat(criteria);\n      const promise = apiCall(endpoint, 'get');\n      promise.then(blob => blob.json()).then(json => {\n        console.log(\"listten\", json);\n        this.setState({\n          listTen: json.listTen\n        });\n      });\n    };\n\n    this.addSymbol = symbol => {\n      console.log(symbol);\n      const endpoint = \"/api/\".concat(window.sessionStorage.getItem(\"apikey\"), \"/active/add/\").concat(symbol);\n      const promise = apiCall(endpoint, 'get');\n      promise.then(blob => blob.json()).then(json => {\n        if (json.error.length > 0) {\n          alert(json.error);\n        } else {\n          alert(\"You have added ticker '\".concat(symbol, \"' to watchlist\"));\n        }\n      });\n    };\n\n    this.state = {\n      criteria: null,\n      listTen: [],\n      error: \"\"\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.match.params.criteria) {\n      this.setState({\n        criteria: this.props.match.params.criteria\n      });\n    }\n  }\n\n  componentWillUpdate(prevState) {\n    if (this.props.tickerQuote !== prevProps.tickerQuote || this.state.tickerQuote !== this.props.tickerQuote) {\n      this.setState({\n        tickerQuote: this.props.tickerQuote\n      });\n    } else {\n      if (this.state.tickerToLook !== this.props.match.params.symbol) {\n        this.setState({\n          tickerToLook: this.props.match.params.symbol\n        });\n      }\n    }\n  }\n\n  render() {\n    console.log(this.state.criteria);\n    let output = React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    });\n\n    if (this.state.listTen) {\n      output = React.createElement(ListSheet, {\n        listTen: this.state.listTen,\n        addSymbol: this.addSymbol,\n        setChartsTicker: this.props.setChartsTicker,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"watchlist-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, output));\n  }\n\n}","map":{"version":3,"sources":["/mnt/c/Users/yavit/OneDrive/Desktop/EquityEcho/WatchlistFundamentals/react-part/src/components/screeners/ListTen.js"],"names":["React","Component","Fragment","apiCall","ListSheet","ListTen","constructor","props","getListTen","criteria","console","log","endpoint","promise","then","blob","json","setState","listTen","addSymbol","symbol","window","sessionStorage","getItem","error","length","alert","state","componentDidMount","match","params","componentWillUpdate","prevState","tickerQuote","prevProps","tickerToLook","render","output","setChartsTicker"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\r\nimport apiCall from '../../util/apiCall';\r\nimport ListSheet from './ListSheet'\r\nimport '../../styles/style.css';\r\n\r\nexport default class ListTen extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        criteria: null,\r\n        listTen:[],\r\n        error: \"\"\r\n    };\r\n  }\r\n\r\n  getListTen = (criteria) => {\r\n    console.log(\"getListTen\")\r\n    const endpoint = `/api/stocks/list/${criteria}`\r\n    const promise = apiCall(endpoint,'get')\r\n    promise.then(blob => blob.json()).then (json=> {\r\n        console.log(\"listten\", json)\r\n       this.setState({\r\n        listTen: json.listTen\r\n      })\r\n    })\r\n  }   \r\n\r\n  addSymbol=(symbol) =>{\r\n    console.log(symbol)\r\n    const endpoint = `/api/${window.sessionStorage.getItem(\"apikey\")}/active/add/${symbol}`\r\n    const promise = apiCall(endpoint,'get')\r\n    promise.then(blob => blob.json()).then(json => {\r\n    if(json.error.length>0) {\r\n      alert(json.error)\r\n    } else {alert(`You have added ticker '${symbol}' to watchlist`)}\r\n    })\r\n  }\r\n    componentDidMount(){\r\n        if(this.props.match.params.criteria){\r\n            this.setState({criteria:this.props.match.params.criteria})\r\n        }\r\n    }\r\n\r\n    componentWillUpdate(prevState){\r\n        if(this.props.tickerQuote !== prevProps.tickerQuote ||\r\n            this.state.tickerQuote !== this.props.tickerQuote){\r\n          this.setState({tickerQuote: this.props.tickerQuote})\r\n       } else {\r\n           if(this.state.tickerToLook !== this.props.match.params.symbol){\r\n               this.setState({tickerToLook: this.props.match.params.symbol})\r\n           } \r\n       }\r\n    }\r\n  \r\n    render() {\r\n        console.log(this.state.criteria)\r\n        let output = (<Fragment></Fragment>)\r\n        if(this.state.listTen) {\r\n            output=(\r\n                <ListSheet\r\n                listTen={this.state.listTen}\r\n                addSymbol={this.addSymbol}\r\n                setChartsTicker={this.props.setChartsTicker}\r\n                />\r\n            )\r\n        }\r\n    return (\r\n      <Fragment>\r\n        <div className=\"watchlist-field\">\r\n          {output}\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n  "]},"metadata":{},"sourceType":"module"}